<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>NEON RED ‚Ä¢ –ú–∞–≥–∞–∑–∏–Ω –∫–∏–±–µ—Ä–ø–∞–Ω–∫ —Ç–æ–≤–∞—Ä–æ–≤</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üî¥</text></svg>">
</head>
<body>
    <!-- –≠–∫—Ä–∞–Ω –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–æ–∑—Ä–∞—Å—Ç–∞ -->
    <div id="age-verification-modal" class="modal age-verification" role="dialog" aria-hidden="false" style="display: block; z-index: 10000;">
        <div class="modal-content age-verification-content">
            <div class="age-verification-header">
                <h2>üîû –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑—Ä–∞—Å—Ç–∞</h2>
            </div>
            <div class="age-verification-body">
                <p>–í–∞–º –µ—Å—Ç—å 18 –ª–µ—Ç?</p>
                <p class="age-subtitle">–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∞–π—Ç—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤–æ–∑—Ä–∞—Å—Ç</p>
            </div>
            <div class="age-verification-actions">
                <button id="age-yes" class="age-btn age-yes-btn">–î–∞, –º–Ω–µ –µ—Å—Ç—å 18</button>
                <button id="age-no" class="age-btn age-no-btn">–ù–µ—Ç, –º–Ω–µ –Ω–µ—Ç 18</button>
            </div>
        </div>
    </div>

    <div id="toast-container" aria-live="polite" aria-atomic="true"></div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
    <div id="auth-modal" class="modal" role="dialog" aria-hidden="true">
        <div class="modal-content auth-modal-content">
            <button class="close" onclick="closeAuthModal()">√ó</button>
            <div class="auth-header">
                <h2 id="auth-title">–í—Ö–æ–¥</h2>
                <p class="auth-subtitle" id="auth-subtitle">–í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç</p>
            </div>

            <form id="login-form" class="auth-form" style="display: block;">
                <div class="input-group">
                    <label for="login-username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ Email</label>
                    <input type="text" id="login-username" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ email" required autocomplete="username">
                </div>
                <div class="input-group">
                    <label for="login-password">–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="login-password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required autocomplete="current-password">
                </div>
                <button type="submit" class="auth-btn primary-btn">–í–æ–π—Ç–∏</button>
                <div class="auth-switch">
                    <p><a href="#" onclick="shop.openForgotPasswordModal()" style="color: var(--neon-blue); text-decoration: none; font-size: 0.9rem;">–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?</a></p>
                    <p style="margin-top: 10px;">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" onclick="showRegisterForm()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></p>
                </div>
            </form>

            <form id="register-form" class="auth-form register-form-steps" style="display: none;">
                <!-- –®–∞–≥ 1: –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                <div class="register-step active" data-step="1">
                    <div class="step-indicator">
                        <div class="step-number">1</div>
                        <div class="step-line"></div>
                        <div class="step-number">2</div>
                        <div class="step-line"></div>
                        <div class="step-number">3</div>
                        <div class="step-line"></div>
                        <div class="step-number">4</div>
                        <div class="step-line"></div>
                        <div class="step-number">5</div>
                    </div>
                    <div class="input-group">
                        <label for="register-username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                        <input type="text" id="register-username" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" required autocomplete="username">
                        <div class="input-error" id="username-error"></div>
                    </div>
                    <button type="button" class="auth-btn primary-btn" onclick="shop.nextRegisterStep()">–î–∞–ª–µ–µ</button>
                </div>

                <!-- –®–∞–≥ 2: Email -->
                <div class="register-step" data-step="2">
                    <div class="step-indicator">
                        <div class="step-number completed">‚úì</div>
                        <div class="step-line completed"></div>
                        <div class="step-number active">2</div>
                        <div class="step-line"></div>
                        <div class="step-number">3</div>
                        <div class="step-line"></div>
                        <div class="step-number">4</div>
                        <div class="step-line"></div>
                        <div class="step-number">5</div>
                    </div>
                    <div class="input-group">
                        <label for="register-email">Email</label>
                        <input type="email" id="register-email" placeholder="–í–≤–µ–¥–∏—Ç–µ email" required autocomplete="email">
                        <div class="input-error" id="email-error"></div>
                    </div>
                    <div class="step-buttons">
                        <button type="button" class="auth-btn secondary-btn" onclick="shop.prevRegisterStep()">–ù–∞–∑–∞–¥</button>
                        <button type="button" class="auth-btn primary-btn" onclick="shop.nextRegisterStep()">–î–∞–ª–µ–µ</button>
                    </div>
                </div>

                <!-- –®–∞–≥ 3: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email (–∫–æ–¥ –∏–∑ –ø–æ—á—Ç—ã) -->
                <div class="register-step" data-step="3">
                    <div class="step-indicator">
                        <div class="step-number completed">‚úì</div>
                        <div class="step-line completed"></div>
                        <div class="step-number completed">‚úì</div>
                        <div class="step-line completed"></div>
                        <div class="step-number active">3</div>
                        <div class="step-line"></div>
                        <div class="step-number">4</div>
                        <div class="step-line"></div>
                        <div class="step-number">5</div>
                    </div>
                    <div class="input-group">
                        <label for="register-code">–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</label>
                        <p style="color: #888; font-size: 14px; margin-bottom: 10px;">–ú—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –Ω–∞ <strong id="verification-email"></strong></p>
                        <input type="text" id="register-code" placeholder="–í–≤–µ–¥–∏—Ç–µ 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥" maxlength="6" pattern="[0-9]{6}" autocomplete="one-time-code">
                        <div class="input-error" id="code-error"></div>
                    </div>
                    <div class="step-buttons">
                        <button type="button" class="auth-btn secondary-btn" onclick="shop.prevRegisterStep()">–ù–∞–∑–∞–¥</button>
                        <button type="button" class="auth-btn primary-btn" onclick="shop.confirmEmailCode()">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
                    </div>
                    <div style="margin-top: 15px; text-align: center;">
                        <button type="button" id="resend-code-btn" class="auth-btn secondary-btn" onclick="shop.resendVerificationCode()" style="font-size: 14px; padding: 8px 16px;">
                            –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ –∑–∞–Ω–æ–≤–æ
                        </button>
                    </div>
                </div>

                <!-- –®–∞–≥ 4: –ü–æ–ª–Ω–æ–µ –∏–º—è -->
                <div class="register-step" data-step="4">
                    <div class="step-indicator">
                        <div class="step-number completed">‚úì</div>
                        <div class="step-line completed"></div>
                        <div class="step-number completed">‚úì</div>
                        <div class="step-line completed"></div>
                        <div class="step-number completed">‚úì</div>
                        <div class="step-line completed"></div>
                        <div class="step-number active">4</div>
                        <div class="step-line"></div>
                        <div class="step-number">5</div>
                    </div>
                    <div class="input-group">
                        <label for="register-fullname">–ü–æ–ª–Ω–æ–µ –∏–º—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                        <input type="text" id="register-fullname" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–æ–ª–Ω–æ–µ –∏–º—è" autocomplete="name">
                    </div>
                    <div class="step-buttons">
                        <button type="button" class="auth-btn secondary-btn" onclick="shop.prevRegisterStep()">–ù–∞–∑–∞–¥</button>
                        <button type="button" class="auth-btn skip-btn" onclick="shop.skipFullName()">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>
                        <button type="button" class="auth-btn primary-btn" onclick="shop.nextRegisterStep()">–î–∞–ª–µ–µ</button>
                    </div>
                </div>

                <!-- –®–∞–≥ 5: –ü–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞ -->
                <div class="register-step" data-step="5">
                    <div class="step-indicator">
                        <div class="step-number completed">‚úì</div>
                        <div class="step-line completed"></div>
                        <div class="step-number completed">‚úì</div>
                        <div class="step-line completed"></div>
                        <div class="step-number completed">‚úì</div>
                        <div class="step-line completed"></div>
                        <div class="step-number completed">‚úì</div>
                        <div class="step-line completed"></div>
                        <div class="step-number active">5</div>
                    </div>
                    <div class="input-group">
                        <label for="register-password">–ü–∞—Ä–æ–ª—å</label>
                        <input type="password" id="register-password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤)" required autocomplete="new-password">
                        <div class="password-hint">–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤</div>
                    </div>
                    <div class="input-group">
                        <label for="register-password2">–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
                        <input type="password" id="register-password2" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required autocomplete="new-password">
                        <div class="input-error" id="password-error"></div>
                    </div>
                    <div class="step-buttons">
                        <button type="button" class="auth-btn secondary-btn" onclick="shop.prevRegisterStep()">–ù–∞–∑–∞–¥</button>
                        <button type="button" class="auth-btn primary-btn" onclick="completeRegistrationWithPassword()">–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é</button>
                    </div>
                </div>

                <div class="auth-switch">
                    <p>–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" onclick="showLoginForm()">–í–æ–π—Ç–∏</a></p>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è -->
    <div id="profile-modal" class="modal" role="dialog" aria-hidden="true">
        <div class="modal-content profile-modal-content" style="margin-top: 10px;">
            <button class="close" onclick="closeProfileModal()">√ó</button>
            <div class="profile-header">
                <div class="profile-header-top">
                    <div class="profile-avatar-container">
                        <div class="profile-avatar">
                            <img id="profile-avatar-img" src="" alt="Avatar" style="display: none; width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">
                            <span id="profile-avatar-text">U</span>
                        </div>
                        <label for="profile-avatar-upload" class="profile-avatar-upload-btn" title="–ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ç–æ">
                            <span>üì∑</span>
                        </label>
                        <input type="file" id="profile-avatar-upload" accept="image/*" style="display: none;">
                    </div>
                </div>
                <h2 id="profile-username-header">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</h2>
                <p class="profile-subtitle" id="profile-email-header">email@example.com</p>
                <div id="profile-isadmin-badge" class="admin-badge" style="display: none;">
                    <span>üëë</span> –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
                </div>
            </div>
            <div id="profile-info" class="profile-info">
                <div class="profile-section">
                    <h3 class="profile-section-title">–õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                    
                    <div class="profile-field">
                        <span class="profile-label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</span>
                        <div class="profile-field-content">
                            <span class="profile-value" id="profile-username"></span>
                            <button class="profile-edit-btn" data-field="username">‚úèÔ∏è</button>
                        </div>
                        <div class="profile-edit-form" id="edit-username-form" style="display: none;">
                            <input type="text" id="edit-username-input" placeholder="–ù–æ–≤–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
                            <div class="profile-edit-actions">
                                <button class="profile-save-btn" onclick="saveProfileField('username')">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                                <button class="profile-cancel-btn" onclick="cancelEdit('username')">–û—Ç–º–µ–Ω–∞</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="profile-field">
                        <span class="profile-label">Email</span>
                        <div class="profile-field-content">
                            <span class="profile-value" id="profile-email"></span>
                            <button class="profile-edit-btn" data-field="email">‚úèÔ∏è</button>
                        </div>
                        <div class="profile-edit-form" id="edit-email-form" style="display: none;">
                            <input type="email" id="edit-email-input" placeholder="–ù–æ–≤—ã–π email">
                            <div class="profile-edit-actions">
                                <button class="profile-save-btn" onclick="shop.changeEmail()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥</button>
                                <button class="profile-cancel-btn" onclick="cancelEdit('email')">–û—Ç–º–µ–Ω–∞</button>
                            </div>
                        </div>
                        <div class="profile-edit-form" id="edit-email-code-form" style="display: none;">
                            <p style="color: #888; font-size: 14px; margin-bottom: 15px; line-height: 1.5;">–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ <strong id="new-email-display" style="color: #ff0033;"></strong></p>
                            <input type="text" id="edit-email-code-input" placeholder="–í–≤–µ–¥–∏—Ç–µ 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥" maxlength="6" pattern="[0-9]{6}">
                            <div class="input-error" id="email-code-error"></div>
                            <div class="profile-edit-actions email-confirm-actions">
                                <button type="button" class="profile-save-btn email-confirm-btn" onclick="shop.confirmEmailChange()">
                                    <span>‚úì</span> –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å
                                </button>
                                <button type="button" class="profile-cancel-btn email-cancel-btn" onclick="shop.cancelEmailChange()">
                                    <span>‚úï</span> –û—Ç–º–µ–Ω–∞
                                </button>
                            </div>
                            <div class="email-resend-container">
                                <button type="button" id="resend-email-change-btn" class="profile-resend-btn" onclick="shop.resendEmailChangeCode()">
                                    <span>‚Üª</span> –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ –∑–∞–Ω–æ–≤–æ
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="profile-field">
                        <span class="profile-label">–ü–æ–ª–Ω–æ–µ –∏–º—è</span>
                        <div class="profile-field-content">
                            <span class="profile-value" id="profile-fullname">–ù–µ —É–∫–∞–∑–∞–Ω–æ</span>
                            <button class="profile-edit-btn" data-field="fullname">‚úèÔ∏è</button>
                        </div>
                        <div class="profile-edit-form" id="edit-fullname-form" style="display: none;">
                            <input type="text" id="edit-fullname-input" placeholder="–ü–æ–ª–Ω–æ–µ –∏–º—è">
                            <div class="profile-edit-actions">
                                <button class="profile-save-btn" onclick="saveProfileField('fullname')">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                                <button class="profile-cancel-btn" onclick="cancelEdit('fullname')">–û—Ç–º–µ–Ω–∞</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="profile-field">
                        <span class="profile-label">–ü–∞—Ä–æ–ª—å</span>
                        <div class="profile-field-content">
                            <span class="profile-value">‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢</span>
                            <button class="profile-edit-btn" data-field="password">‚úèÔ∏è</button>
                        </div>
                        <div class="profile-edit-form" id="edit-password-form" style="display: none;">
                            <input type="password" id="edit-password-input" placeholder="–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å">
                            <input type="password" id="edit-password-confirm" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
                            <div class="profile-edit-actions">
                                <button class="profile-save-btn" onclick="saveProfileField('password')">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                                <button class="profile-cancel-btn" onclick="cancelEdit('password')">–û—Ç–º–µ–Ω–∞</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="profile-orders" class="profile-section">
                    <h3 class="profile-section-title">–í–∞—à–∏ –∑–∞–∫–∞–∑—ã</h3>
                    <div id="orders-list" class="orders-list"></div>
                </div>
                <div class="profile-actions">
                    <button onclick="logout()" class="profile-logout-btn-bottom">
                        <span>üö™</span>
                        <span>–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</span>
                    </button>
                    <button onclick="deleteAccount()" class="profile-delete-btn">
                        <span>üóëÔ∏è</span>
                        <span>–£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ -->
    <div id="admin-modal" class="modal" role="dialog" aria-hidden="true">
        <div class="modal-content admin-modal-content">
            <button class="close" onclick="closeAdminPanel()">√ó</button>
            <div class="admin-header">
                <h2>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
            </div>
            
            <div class="admin-tabs">
                <button class="admin-tab active" data-tab="products">
                    <span class="tab-icon">üì¶</span>
                    <span class="tab-text">–¢–æ–≤–∞—Ä—ã</span>
                </button>
                <button class="admin-tab" data-tab="users">
                    <span class="tab-icon">üë•</span>
                    <span class="tab-text">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</span>
                </button>
                <button class="admin-tab" data-tab="orders">
                    <span class="tab-icon">üìã</span>
                    <span class="tab-text">–ó–∞–∫–∞–∑—ã</span>
                </button>
            </div>
            
            <div id="products-tab" class="admin-tab-content active">
                <div class="admin-section">
                    <div class="admin-section-header">
                        <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏</h3>
                        <button onclick="addNewProduct()" class="admin-btn add-btn">
                            <span>+</span>
                            <span class="btn-text">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</span>
                        </button>
                    </div>
                    <div class="admin-list-container">
                        <div id="admin-products-list" class="admin-list"></div>
                    </div>
                </div>
            </div>
            
            <div id="users-tab" class="admin-tab-content">
                <div class="admin-section">
                    <div class="admin-section-header">
                        <h3>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h3>
                    </div>
                    <div class="admin-list-container">
                        <div id="admin-users-list" class="admin-list"></div>
                    </div>
                </div>
            </div>
            
            <div id="orders-tab" class="admin-tab-content">
                <div class="admin-section">
                    <div class="admin-section-header">
                        <h3>–ó–∞–∫–∞–∑—ã</h3>
                    </div>
                    <div class="admin-list-container">
                        <div id="admin-orders-list" class="admin-list"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ -->
    <div id="edit-product-modal" class="modal" role="dialog" aria-hidden="true">
        <div class="modal-content edit-product-modal-content">
            <button class="close" onclick="closeEditProductModal()">√ó</button>
            <h2>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä</h2>
            <form id="edit-product-form" class="admin-form">
                <input type="hidden" id="edit-product-id">
                <input type="text" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞" id="edit-product-title" required>
                <textarea placeholder="–û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞" id="edit-product-description"></textarea>
                <input type="number" step="0.01" placeholder="–¶–µ–Ω–∞" id="edit-product-price" required>
                <input type="number" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ" id="edit-product-quantity" required>
                <label for="edit-product-image-upload" class="file-upload-label">
                    <span>üì∑ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ</span>
                    <input type="file" id="edit-product-image-upload" accept="image/*" style="display: none;">
                </label>
                <div id="edit-product-image-preview" class="image-preview"></div>
                <input type="text" placeholder="–ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è" id="edit-product-image-url">
                <button type="button" id="edit-remove-image" class="remove-image-btn" style="display: none;">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</button>
                <div class="admin-form-actions">
                    <button type="button" class="secondary-btn" onclick="closeEditProductModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="admin-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ -->
    <div id="add-product-modal" class="modal" role="dialog" aria-hidden="true">
        <div class="modal-content add-product-modal-content">
            <button class="close" onclick="closeAddProductModal()">√ó</button>
            <h2>–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</h2>
            <form id="add-product-form" class="admin-form">
                <input type="text" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞" id="new-product-title" required>
                <textarea placeholder="–û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞" id="new-product-description"></textarea>
                <input type="number" step="0.01" placeholder="–¶–µ–Ω–∞" id="new-product-price" required>
                <input type="number" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ" id="new-product-quantity" required>
                <label for="new-product-image-upload" class="file-upload-label">
                    <span>üì∑ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ –∏–∑ –≥–∞–ª–µ—Ä–µ–∏</span>
                    <input type="file" id="new-product-image-upload" accept="image/*" style="display: none;">
                </label>
                <div id="new-product-image-preview" class="image-preview"></div>
                <input type="text" placeholder="–ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è" id="new-product-image">
                <button type="button" id="new-remove-image" class="remove-image-btn" style="display: none;">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</button>
                <div class="admin-form-actions">
                    <button type="button" class="secondary-btn" onclick="closeAddProductModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="admin-btn">–°–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä</button>
                </div>
            </form>
        </div>
    </div>

    <header>
        <div class="container">
            <div class="header-top-new">
                <h1 class="logo-animated">NEON RED</h1>
                <div class="header-controls">
                    <button id="profile-btn" onclick="openProfileModal()" class="header-btn profile-header-btn" style="display: none;" aria-label="–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ—Ñ–∏–ª—å" aria-haspopup="dialog">
                        <span aria-hidden="true">üë§</span>
                        <span class="btn-text">–ü—Ä–æ—Ñ–∏–ª—å</span>
                    </button>
                    <button id="auth-btn" onclick="openAuthModal()" class="header-btn auth-header-btn" aria-label="–í–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç" aria-haspopup="dialog">–í–æ–π—Ç–∏</button>
                    <button id="cart-btn" onclick="openCartModal()" class="header-btn cart-header-btn" aria-label="–û—Ç–∫—Ä—ã—Ç—å –∫–æ—Ä–∑–∏–Ω—É" aria-haspopup="dialog">
                        <span class="cart-icon" aria-hidden="true">üõí</span>
                        <span class="cart-badge" id="cart-badge" aria-live="polite" aria-atomic="true">0</span>
                    </button>
                </div>
            </div>
            <div class="header-admin">
                <button id="admin-btn" onclick="openAdminPanel()" class="header-btn admin-header-btn" style="display: none;" aria-label="–û—Ç–∫—Ä—ã—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å" aria-haspopup="dialog">
                    <span aria-hidden="true">‚öôÔ∏è</span>
                    <span class="btn-text">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</span>
                </button>
            </div>
            <div class="nav-container">
                <nav class="desktop-nav" role="navigation" aria-label="–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
                    <a href="#" onclick="loadProducts(); return false;" aria-label="–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã">–í—Å–µ —Ç–æ–≤–∞—Ä—ã</a>
                </nav>
            </div>
        </div>
    </header>

    <main class="container" role="main">
        <div class="products" id="products" role="list" aria-label="–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤" aria-live="polite">
            <!-- –¢–æ–≤–∞—Ä—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ API -->
        </div>
    </main>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–æ—Ä–∑–∏–Ω—ã -->
    <div id="cart-modal" class="modal" role="dialog" aria-labelledby="cart-title" aria-hidden="true">
        <div class="modal-content">
            <div class="cart-header">
                <h2 id="cart-title">–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</h2>
                <button class="close" onclick="closeCartModal()">√ó</button>
            </div>
            <div id="cart-items"></div>
            <div class="cart-footer">
                <p>–ò—Ç–æ–≥–æ: <strong id="cart-total-modal">0 ‚ÇΩ</strong></p>
                <div class="cart-buttons">
                    <button id="clear-cart" class="secondary-btn">–û—á–∏—Å—Ç–∏—Ç—å</button>
                    <button id="checkout" onclick="checkout()">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è -->
    <div id="forgot-password-modal" class="modal" role="dialog" aria-hidden="true">
        <div class="modal-content auth-modal-content">
            <button class="close" onclick="shop.closeForgotPasswordModal()">√ó</button>
            <div class="auth-header">
                <h2 id="forgot-password-title">–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è</h2>
                <p class="auth-subtitle" id="forgot-password-subtitle">–í–≤–µ–¥–∏—Ç–µ email –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è</p>
            </div>

            <!-- –§–æ—Ä–º–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è -->
            <div id="forgot-password-form" class="auth-form" style="display: block;">
                <div class="input-group">
                    <label for="forgot-email">Email</label>
                    <input type="email" id="forgot-email" placeholder="–í–≤–µ–¥–∏—Ç–µ email –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è" required autocomplete="email">
                    <div class="input-error" id="forgot-email-error"></div>
                </div>
                <button type="button" class="auth-btn primary-btn" onclick="shop.sendPasswordResetCode()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥</button>
                <div class="auth-switch">
                    <p><a href="#" onclick="shop.closeForgotPasswordModal(); openAuthModal(); showLoginForm();">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≤—Ö–æ–¥—É</a></p>
                </div>
            </div>

            <!-- –§–æ—Ä–º–∞ –≤—ã–±–æ—Ä–∞ –∞–∫–∫–∞—É–Ω—Ç–∞ -->
            <div id="select-account-form" class="auth-form" style="display: none;">
                <p style="color: #888; margin-bottom: 15px; line-height: 1.5;">–ù–∞–π–¥–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ —Å —ç—Ç–∏–º email. –í—ã–±–µ—Ä–∏—Ç–µ –∞–∫–∫–∞—É–Ω—Ç:</p>
                <div id="accounts-list" style="margin-bottom: 20px;"></div>
                <button type="button" class="auth-btn secondary-btn" onclick="shop.backToForgotPassword()">–ù–∞–∑–∞–¥</button>
            </div>

            <!-- –§–æ—Ä–º–∞ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è -->
            <div id="reset-password-form" class="auth-form" style="display: none;">
                <p style="color: #888; margin-bottom: 15px; line-height: 1.5;">–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ <strong id="reset-email-display" style="color: #ff0033;"></strong></p>
                <div class="input-group">
                    <label for="reset-code">–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</label>
                    <input type="text" id="reset-code" placeholder="–í–≤–µ–¥–∏—Ç–µ 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥" maxlength="6" pattern="[0-9]{6}" autocomplete="one-time-code" style="font-size: 18px;">
                    <div class="input-error" id="reset-code-error"></div>
                </div>
                <div class="input-group">
                    <label for="reset-password">–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
                    <input type="password" id="reset-password" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤)" required autocomplete="new-password">
                    <div class="password-hint">–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤</div>
                </div>
                <div class="input-group">
                    <label for="reset-password2">–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
                    <input type="password" id="reset-password2" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required autocomplete="new-password">
                    <div class="input-error" id="reset-password-error"></div>
                </div>
                <button type="button" class="auth-btn primary-btn" onclick="shop.confirmPasswordReset()">–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
                <div class="email-resend-container" style="margin-top: 15px;">
                    <button type="button" id="resend-reset-code-btn" class="profile-resend-btn" onclick="shop.resendResetCode()">
                        <span>‚Üª</span> –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ –∑–∞–Ω–æ–≤–æ
                    </button>
                </div>
                <div class="auth-switch">
                    <p><a href="#" onclick="shop.closeForgotPasswordModal(); openAuthModal(); showLoginForm();">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≤—Ö–æ–¥—É</a></p>
                </div>
            </div>
        </div>
    </div>

    <script type="module">
        import { NeonShop } from './js/shop.js';
        
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å–æ —Å—Ç–∞—Ä—ã–º –∫–æ–¥–æ–º
        let shop;
        
        function openAuthModal() {
            if (shop) shop.openAuthModal();
        }
        
        function closeAuthModal() {
            if (shop) shop.closeAuthModal();
        }
        
        function openProfileModal() {
            if (shop) shop.openProfileModal();
        }
        
        function closeProfileModal() {
            if (shop) shop.closeProfileModal();
        }
        
        function openCartModal() {
            if (shop) shop.openCartModal();
        }
        
        function closeCartModal() {
            if (shop) shop.closeCartModal();
        }
        
        function openAdminPanel() {
            if (shop) shop.openAdminPanel();
        }
        
        function loadProducts() {
            if (shop) shop.loadProducts();
        }
        
        function showLoginForm() {
            const loginForm = document.getElementById('login-form');
            const registerForm = document.getElementById('register-form');
            if (loginForm) loginForm.style.display = 'flex';
            if (registerForm) registerForm.style.display = 'none';
        }
        
        function showRegisterForm() {
            const loginForm = document.getElementById('login-form');
            const registerForm = document.getElementById('register-form');
            if (loginForm) loginForm.style.display = 'none';
            if (registerForm) registerForm.style.display = 'flex';
        }
        
        function switchAdminTab(tabName, event) {
            if (!shop) return;
            
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.admin-tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            let activeTabName = tabName;
            if (event && event.target) {
                const clickedTab = event.target.closest('.admin-tab');
                if (clickedTab && clickedTab.dataset.tab) {
                    activeTabName = clickedTab.dataset.tab;
                }
            }
            
            const tabButton = document.querySelector(`.admin-tab[data-tab="${activeTabName}"]`);
            if (tabButton) {
                tabButton.classList.add('active');
            }
            
            const tabContent = document.getElementById(activeTabName + '-tab');
            if (tabContent) {
                tabContent.classList.add('active');
                
                const listContainer = tabContent.querySelector('.admin-list');
                if (listContainer && listContainer.children.length === 0) {
                    if (activeTabName === 'users') {
                        shop.adminModule.loadAdminUsers();
                    } else if (activeTabName === 'orders') {
                        shop.adminModule.loadAdminOrders();
                    }
                }
            }
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', () => {
            shop = new NeonShop();
            window.shop = shop; // –î–ª—è –æ—Ç–ª–∞–¥–∫–∏
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–æ—Ä–º—ã –≤—Ö–æ–¥–∞
            const loginForm = document.getElementById('login-form');
            if (loginForm) {
                loginForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    const usernameInput = document.getElementById('login-username');
                    const passwordInput = document.getElementById('login-password');
                    if (usernameInput && passwordInput) {
                        const username = usernameInput.value.trim();
                        const password = passwordInput.value;
                        if (username && password) {
                            await shop.login(username, password);
                        }
                    }
                });
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ñ–ª–∞–π–Ω/–æ–Ω–ª–∞–π–Ω —Å–æ–±—ã—Ç–∏–π
            import('./js/utils.js').then(({ showToast }) => {
                window.addEventListener('offline', () => {
                    showToast('–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É', 'error', 5000);
                });
                
                window.addEventListener('online', () => {
                    showToast('–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ', 'success', 3000);
                });
            });
        });
        
        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å–æ —Å—Ç–∞—Ä—ã–º –∫–æ–¥–æ–º
        async function completeRegistrationWithPassword() {
            if (shop) {
                await shop.completeRegistrationWithPassword();
            }
        }
        
        function logout() {
            if (shop) shop.logout();
        }
        
        function checkout() {
            if (shop) shop.checkout();
        }
        
        async function saveProfileField(field) {
            if (shop) {
                await shop.saveProfileField(field);
            }
        }
        
        function cancelEdit(field) {
            const form = document.getElementById(`edit-${field}-form`);
            if (form) {
                form.style.display = 'none';
            }
        }
        
        async function deleteAccount() {
            if (shop) {
                await shop.deleteAccount();
            }
        }
        
        function addNewProduct() {
            if (shop) shop.adminModule.addNewProduct();
        }
        
        function closeEditProductModal() {
            if (shop) shop.adminModule.closeEditProductModal();
        }
        
        function closeAddProductModal() {
            if (shop) shop.adminModule.closeAddProductModal();
        }
        
        // –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –≤ window –¥–ª—è onclick –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
        window.completeRegistrationWithPassword = completeRegistrationWithPassword;
        window.logout = logout;
        window.checkout = checkout;
        window.saveProfileField = saveProfileField;
        window.cancelEdit = cancelEdit;
        window.deleteAccount = deleteAccount;
        window.addNewProduct = addNewProduct;
        window.closeEditProductModal = closeEditProductModal;
        window.closeAddProductModal = closeAddProductModal;
        window.openAuthModal = openAuthModal;
        window.closeAuthModal = closeAuthModal;
        window.openProfileModal = openProfileModal;
        window.closeProfileModal = closeProfileModal;
        window.openCartModal = openCartModal;
        window.closeCartModal = closeCartModal;
        window.openAdminPanel = openAdminPanel;
        window.loadProducts = loadProducts;
        window.showLoginForm = showLoginForm;
        window.showRegisterForm = showRegisterForm;
        window.switchAdminTab = switchAdminTab;
    </script>
</body>
</html>

